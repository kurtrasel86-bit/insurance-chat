# üéâ Knowledge Base + RAG - –ì–æ—Ç–æ–≤–æ!

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ?

### 1. **Knowledge Base –º–æ–¥—É–ª—å** üìö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –æ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —á–∞–Ω–∫–∏
- API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è/–ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### 2. **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** üîç
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ OpenAI embeddings
- –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3. **RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ü§ñ
- AI –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –¢–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –µ—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç

### 4. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚úÖ
- 5 –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏–π –∏ —Ü–µ–Ω
- –¢–µ—Å—Ç–æ–≤—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ `.env`:
```env
DATABASE_URL="file:./dev.db"
TELEGRAM_BOT_TOKEN="–≤–∞—à-—Ç–æ–∫–µ–Ω"
OPENAI_API_KEY="–≤–∞—à-–∫–ª—é—á-openai"
JWT_SECRET="—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á"
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```powershell
cd insurance-chat/backend
npm install
npm run prisma:generate
npm run prisma:migrate
npm run prisma:seed
npm run start:dev
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞:

#### Telegram –±–æ—Ç:
–ù–∞–ø–∏—à–∏—Ç–µ –≤ Telegram –±–æ—Ç—É: **"–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞?"**

#### –í–µ–±-—á–∞—Ç:
- **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —á–∞—Ç:** http://localhost:3000/web
- **–î–µ–º–æ —Å –≤–∏–¥–∂–µ—Ç–æ–º:** http://localhost:3000/web/demo
- **–¢–µ—Å—Ç API:** `.\test-web-chat.ps1`

#### –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤:
- **–¢–µ—Å—Ç –∞–≥–µ–Ω—Ç–æ–≤:** `.\test-agents.ps1`
- **–ó–∞–ø—Ä–æ—Å –∞–≥–µ–Ω—Ç–∞:** –∫–Ω–æ–ø–∫–∞ "–°–≤—è–∑–∞—Ç—å —Å –∞–≥–µ–Ω—Ç–æ–º" –≤ —á–∞—Ç–µ

–ë–æ—Ç –Ω–∞–π–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –∏ –æ—Ç–≤–µ—Ç–∏—Ç —Ç–æ—á–Ω–æ! üéØ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
backend/
‚îú‚îÄ‚îÄ src/modules/
‚îÇ   ‚îú‚îÄ‚îÄ kb/                    # ‚≠ê –ù–û–í–´–ô: Knowledge Base
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kb.service.ts      # –õ–æ–≥–∏–∫–∞ RAG
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kb.controller.ts   # API endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kb.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ ai/                    # ‚≠ê –û–ë–ù–û–í–õ–ï–ù: AI –º–æ–¥—É–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.service.ts      # RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.controller.ts   # ‚≠ê –ù–û–í–´–ô: AI API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ web/                   # ‚≠ê –ù–û–í–´–ô: –í–µ–±-—á–∞—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ web.controller.ts  # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤–∏–¥–∂–µ—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ web.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ agents/                # ‚≠ê –ù–û–í–´–ô: –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agents.service.ts  # –õ–æ–≥–∏–∫–∞ handover
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agents.controller.ts # API –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agents.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ chat/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat.service.ts    # ‚≠ê –û–ë–ù–û–í–õ–ï–ù: Prisma –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ channels/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.controller.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ channels.module.ts # ‚≠ê –û–ë–ù–û–í–õ–ï–ù: KB –∏–º–ø–æ—Ä—Ç
‚îÇ   ‚îî‚îÄ‚îÄ prisma/                # ‚≠ê –ù–û–í–´–ô: Prisma –º–æ–¥—É–ª—å
‚îÇ       ‚îú‚îÄ‚îÄ prisma.service.ts
‚îÇ       ‚îî‚îÄ‚îÄ prisma.module.ts
‚îú‚îÄ‚îÄ public/                    # ‚≠ê –ù–û–í–´–ô: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html             # –í–µ–±-—á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ demo.html              # –î–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–∏–¥–∂–µ—Ç–æ–º
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma          # ‚≠ê –ò–°–ü–†–ê–í–õ–ï–ù: Relations
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts                # ‚≠ê –ù–û–í–´–ô: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ SETUP.md                   # ‚≠ê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îú‚îÄ‚îÄ KB_GUIDE.md                # ‚≠ê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ KB
‚îú‚îÄ‚îÄ WEB_WIDGET_GUIDE.md        # ‚≠ê –ù–û–í–´–ô: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–∏–¥–∂–µ—Ç—É
‚îú‚îÄ‚îÄ AGENTS_SYSTEM_GUIDE.md     # ‚≠ê –ù–û–í–´–ô: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≥–µ–Ω—Ç–∞–º
‚îú‚îÄ‚îÄ test-web-chat.ps1          # ‚≠ê –ù–û–í–´–ô: –¢–µ—Å—Ç –≤–µ–±-—á–∞—Ç–∞
‚îú‚îÄ‚îÄ test-agents.ps1            # ‚≠ê –ù–û–í–´–ô: –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∞–≥–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ README_RAG.md              # ‚≠ê –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## API Endpoints

### Knowledge Base:

- `POST /kb/documents` - –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
- `GET /kb/documents` - –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `DELETE /kb/documents/:id` - –£–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
- `POST /kb/search` - –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [KB_GUIDE.md](./KB_GUIDE.md)

### –í–µ–±-—á–∞—Ç (–ù–û–í–´–ô):

- `GET /web` - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —á–∞—Ç
- `GET /web/demo` - –î–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–∏–¥–∂–µ—Ç–æ–º
- `GET /web/widget` - JavaScript –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
- `POST /web/chat` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `GET /web/messages/:sessionId` - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `POST /web/search` - –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- `GET /web/products` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- `POST /web/request-agent` - –ó–∞–ø—Ä–æ—Å –∞–≥–µ–Ω—Ç–∞
- `GET /web/agents/available` - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
- `GET /web/agents/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [WEB_WIDGET_GUIDE.md](./WEB_WIDGET_GUIDE.md)

### –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤ (–ù–û–í–´–ô):

- `GET /agents/available` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- `GET /agents/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤
- `POST /agents/request` - –ó–∞–ø—Ä–æ—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
- `POST /agents/accept` - –ê–≥–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
- `POST /agents/reject` - –ê–≥–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å
- `GET /agents/requests/:agentId` - –ó–∞–ø—Ä–æ—Å—ã –∞–≥–µ–Ω—Ç–∞
- `GET /agents/request/:requestId` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ
- `POST /agents/end-session` - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é –∞–≥–µ–Ω—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [AGENTS_SYSTEM_GUIDE.md](./AGENTS_SYSTEM_GUIDE.md)

### AI:

- `POST /ai/generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI

### Chat (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ):

- `POST /chat/sessions` - –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
- `POST /chat/messages` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
- `GET /chat/messages/:sessionId` - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

### Telegram Webhook:

- `POST /channels/telegram/webhook` - Webhook –¥–ª—è Telegram

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ seed –¥–æ—Å—Ç—É–ø–Ω—ã:

| –ö–æ–º–ø–∞–Ω–∏—è | –ü—Ä–æ–¥—É–∫—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–µ–Ω–∞ |
|----------|---------|----------|------|
| PICC | TRAVEL_ANNUAL | –ì–æ–¥–æ–≤–æ–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏—Å | –æ—Ç 2,500¬•/–≥–æ–¥ |
| CPIC | MEDICAL_PREMIUM | –ü—Ä–µ–º–∏—É–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ | –æ—Ç 8,000¬•/–≥–æ–¥ |
| Ping An | AUTO_STANDARD | –ê–≤—Ç–æ—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –û–°–ê–ì–û+–ö–ê–°–ö–û | –æ—Ç 950¬•/–≥–æ–¥ |
| PICC | PROPERTY_HOME | –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã | –æ—Ç 800¬•/–≥–æ–¥ |
| CPIC | BUSINESS_SME | –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ | –æ—Ç 15,000¬•/–≥–æ–¥ |

## –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–ø—Ä–æ—Å–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram:

1. **"–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞?"**
   ‚Üí –ù–∞–π–¥–µ—Ç PICC TRAVEL_ANNUAL

2. **"–ß—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ CPIC?"**
   ‚Üí –ù–∞–π–¥–µ—Ç CPIC MEDICAL_PREMIUM

3. **"–ù—É–∂–Ω–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –Ω–∞ –º–∞—à–∏–Ω—É"**
   ‚Üí –ù–∞–π–¥–µ—Ç Ping An AUTO_STANDARD

4. **"–ö–∞–∫ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É?"**
   ‚Üí –ù–∞–π–¥–µ—Ç PICC PROPERTY_HOME

5. **"–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞"**
   ‚Üí –ù–∞–π–¥–µ—Ç CPIC BUSINESS_SME

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞?"
        ‚Üì
1. Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí TelegramController
        ‚Üì
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î ‚Üí ChatService (Prisma)
        ‚Üì
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è embedding –∑–∞–ø—Ä–æ—Å–∞ ‚Üí KbService
        ‚Üì
4. –ò—â—É—Ç—Å—è –ø–æ—Ö–æ–∂–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (cosine similarity)
        ‚Üì
5. –ù–∞–π–¥–µ–Ω–Ω—ã–µ —á–∞–Ω–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ AI ‚Üí AiService
        ‚Üì
6. AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        ‚Üì
7. –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –°–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–í–µ–±-–≤–∏–¥–∂–µ—Ç** - —á–∞—Ç –¥–ª—è —Å–∞–π—Ç–∞
2. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏ –∏ KB
3. **Handover** - –ø–µ—Ä–µ–¥–∞—á–∞ –æ—Ç AI –∫ –∞–≥–µ–Ω—Ç—É
4. **Voice** - –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è polis.online** - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–ª–∏—Å–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è RAG:

1. –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î (Pinecone/Qdrant)
2. –•—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –≤ Prisma
3. –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
4. Batch processing –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤

## Troubleshooting

### –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç "–Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ seed –≤—ã–ø–æ–ª–Ω–µ–Ω: `npm run prisma:seed`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OPENAI_API_KEY –≤ `.env`

### –ü–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ OPENAI_API_KEY –≤–∞–ª–∏–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å OpenAI –∞–∫–∫–∞—É–Ω—Ç–∞
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- –£–¥–∞–ª–∏—Ç–µ `dev.db` –∏ `prisma/migrations`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞: `npm run prisma:migrate`

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [SETUP.md](./SETUP.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [KB_GUIDE.md](./KB_GUIDE.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Knowledge Base
- [Prisma Docs](https://www.prisma.io/docs) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Prisma
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings) - OpenAI —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

---

**–°–æ–∑–¥–∞–Ω–æ:** 1 –æ–∫—Ç—è–±—Ä—è 2025
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** NestJS, Prisma, SQLite, OpenAI, RAG, Telegram Bot API




