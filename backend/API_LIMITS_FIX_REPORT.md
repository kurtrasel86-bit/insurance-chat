# üö® –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤ API AITUNNEL

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
AITUNNEL –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫—É **429 "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤"** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è 1000 —á–∞–Ω–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **–û—à–∏–±–∫–∞**: `429 - –í—ã –¥–µ–ª–∞–µ—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–ª–∞—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å 1000 —á–∞–Ω–∫–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–∏—Å–∫ –ø–∞–¥–∞–ª —Å –æ—à–∏–±–∫–∞–º–∏ API

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤
```typescript
take: 100, // –ë—ã–ª–æ: 1000, —Å—Ç–∞–ª–æ: 100
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω Rate Limiting
```typescript
const batchSize = 5; // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ 5 —á–∞–Ω–∫–æ–≤ –∑–∞ —Ä–∞–∑
await new Promise(resolve => setTimeout(resolve, 200)); // –ü–∞—É–∑–∞ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
```

### 3. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
```typescript
// –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
if (cachedResults.length >= limit) {
  return cachedResults.sort((a, b) => b.score - a.score).slice(0, limit);
}
```

### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
try {
  chunkEmbedding = await this.generateEmbedding(chunk.text);
  this.embeddingsCache.set(cacheKey, chunkEmbedding);
} catch (error) {
  this.logger.warn(`–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –¥–ª—è —á–∞–Ω–∫–∞ ${chunk.id}`);
  return null; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —á–∞–Ω–∫
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:
- **–ë–µ–∑ –æ—à–∏–±–æ–∫ API** - rate limiting –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- **–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ 100 —á–∞–Ω–∫–æ–≤ –≤–º–µ—Å—Ç–æ 1000

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: < 2 —Å–µ–∫—É–Ω–¥
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö —á–∞–Ω–∫–æ–≤)
- **–ö—ç—à**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- **Fallback**: –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!
–ü–æ–∏—Å–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö AITUNNEL, –∏—Å–ø–æ–ª—å–∑—É—è —É–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ rate limiting.
