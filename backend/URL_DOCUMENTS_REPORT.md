# üîó –û—Ç—á–µ—Ç –æ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ URL

## ‚úÖ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üéØ –¶–µ–ª—å
–ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ —Å—Å—ã–ª–∫–∞–º –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä - —Ç–æ–ª—å–∫–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å —Ç–µ–∫—Å—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª.

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å UrlDocumentService
- **–§–∞–π–ª**: `backend/src/modules/file-upload/url-document.service.ts`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ URL (PDF, HTML, DOCX)
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
  - –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª

### 2. –ù–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä UrlDocumentController
- **–§–∞–π–ª**: `backend/src/modules/file-upload/url-document.controller.ts`
- **API endpoints**:
  - `POST /url-documents/process` - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ URL
  - `GET /url-documents` - –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - `GET /url-documents/:id` - –î–µ—Ç–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  - `POST /url-documents/:id/approve` - –û–¥–æ–±—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
  - `POST /url-documents/:id/reject` - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π FileParserService
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã**:
  - `extractTextFromBuffer()` - —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–∞–º–∏
  - `extractFromPDFBuffer()` - PDF –∏–∑ –±—É—Ñ–µ—Ä–∞
  - `extractFromDOCXBuffer()` - DOCX –∏–∑ –±—É—Ñ–µ—Ä–∞

### 4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- **PDF**: –ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥
- **HTML**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π
- **DOCX**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
- **TXT**: –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞
- **0 –±–∞–π—Ç** —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **–¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–°—Å—ã–ª–∫–∏** –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å
- **–í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ** –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏** —Å—Å—ã–ª–æ–∫

### ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–∞
- **–ú–µ–Ω—å—à–µ –º–µ—Å—Ç–∞** –Ω–∞ –¥–∏—Å–∫–µ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```bash
curl -X POST http://localhost:3000/url-documents/process \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://reso.ru/upload/rules.pdf",
    "companyCode": "RESO",
    "productCode": "AUTO",
    "documentType": "rules"
  }'
```

### –û—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "data": {
    "id": "url-1234567890",
    "url": "https://reso.ru/upload/rules.pdf",
    "title": "–ü—Ä–∞–≤–∏–ª–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è –û–°–ê–ì–û - –†–µ—Å–æ-–ì–∞—Ä–∞–Ω—Ç–∏—è",
    "companyCode": "RESO",
    "productCode": "AUTO",
    "status": "pending",
    "duplicatesCount": 0,
    "conflictsCount": 0
  }
}
```

## üéâ –ì–æ—Ç–æ–≤–æ!
–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ URL –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä!
