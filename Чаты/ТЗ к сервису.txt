Проект

Автоматизированный страховой агент через чат (сервис)


Цели проекта

Создать автоматизированный сервис по продаже страховых продуктов (на первом этапе: ОСАГО, ипотека).
Организовать консультации клиентов в **живом чате** через LLM-агента на основе базы знаний по продуктам
Минимизировать участие человека в процессе оформления полиса (полная автоматизация: от вопроса клиента → до выдачи готового PDF-полиса).
Реализовать возможность **гибкого пополнения и обновления базы знаний** о страховых продуктах. (редактируемую заказчиком).
Обеспечить автоматическую отправку готового полиса клиенту в чат (PDF).


роли / сокращение
Страховой сервис / сервис
клиент / клиент
страховой агент / агент
ии-агент / ии
администратор / админ.
страховая компания / компания
сервис polis.online / полис. Онлайн


ии-агент

работает на сайте в виде диалогового окна для ввода сообщений
возможно подключение через Telegram и WhatsApp, не через бота, а в диалоговом окне в виде живого общения
после отправки готового полиса в чате, спрашивает необходимо ли отправить на почту, если да то просит ввести почту


клиент

может  обращаться к ии через сайт, вотсап или телеграм
может задать любой вопрос о страховании и получить ответ в свободной форме
может оформить полис самостоятельно из доступных вариантов API
может попросить подключить агента
в чате появляется сообщение "ожидание агента", когда агент подключился "к чату подключился агент"
клиент может написать в чат попросив соединить с конкретным агентом
если клиент выявил какую-то неточность в ответах ии, клиент  должен иметь возможность сообщить об этом администратору
клиент может запросить информацию по оформленнм им полисам, даты, скачать и т.п.
после оформления полиса спросить клиента надо ли ему напомнить о пролангации? Если написал что нет, то не напоминать


страховой агент

есть база страховый агентов, которые имеют доступ к сервису
агенты указывают свой статус, когда они готовы работать, (можно написав в вотсап/телеграм или напрямую на сайте)
когда клиент попросил в чате подключить агента, у всех доступных агентов появляется сообщение о неообходимости подключения к чату и приходит ссылка для подключения (открывается там же где находится агент: вотсап/телеграм или сайт
Когда кто-то подключился остальным сообщается что такой-то менеджер подключился и заявка неактуальна
в процессе общения клиента с агентом, у агента должна быть кнопка "помочь с ответом", ии формирует ответ на основе базы знаний, предложенный ответ можно опубликовать, попросить ии его перефразировать, отредактировать, также можно сформировать ответ придав ему направленность по типу «напиши ответ так-то».
агент может просто сам подключиться к ии для выяснения какой-либо информации
если агент выявил какую-то неточность в ответах ии, агнет должэен иметь возможность сообщить об этом администратору
при регистрации агента в базу он указывает свои данные и перечень компаний с которыми он может работать
агент, который консультирует клиента по просьбе клиента в чате, должен иметь возможность выпустить полис всех компаний предлагаемых сервисом
агент может самостоятельно приглашать своих уже имеющихся клиентов в чат сервиса, и вести с ними диалог при помощи ии, получая подсказки
в данном случае сервис спрашивает агента строить ли ответы только на основе компаний с которыми он работает (взятые из его резюме) или по всем компаниям из базы знаний 
агенту запрещается переводить клиентов из данного чата, ии отслеживает данные признаки и в случае их появления отправляет информацию администратору
администратор может просматривать истоири чатов
за каждый оформленный с помощью сервиса полис, агент выплачиват комиссию сервису, ии отслеживает чат на эти признаки (была произведена оплата, выпущен полис и т.д.)
если это прямой клиент агента (его привел сам агент) напоминать агенту когда закончится полис
у агентов есть личный кабинет где отображаются клиенты, с которыми они работали (без телефонов), связь сохраняется только через сервис


api

если оформление выбранного клиентом продукта доступно напрямую у страховой компании то апи работает с ней
если не доступно, то апи работает с полис. Онлайн
если и тут не доступно то ии сообщает что оформление данного продукта онлайн пока еще не реализовано и предлагает соединить с агентом
на первом этапе будет только полис.онлайн, работа по апи напрямую с компаниями будет добавляться постепенно в дальнейшем


база знаний (общая)

есть админ панель на сайте
в панели представлена структура базы знаний
база знаний структурирована по принципу: страховая компания - продукт - предложения данной компании по данному продукту
у каждой строки есть кнопка "открыть исхоный файл" и "удалить"
в панели есть кнопка "добавить информацию" при нажатии на которую:
сервис позволяет загрузить файл pdf или другой
сервис сам анализирует инфорамцию в файле и добавляет ее в базу знаний
помимо прямой информации о продуктах страховых компаний, в базу можно загружать общую информацию о компании для построения ответов для климентов, например кол-во сервисный станций, отзывы по продуктам, и др. информация которая может помогать строить ответы и давать информацию клиентам
если у компании есть конкретное место (rss, страница с документацией), то сервис сам периодически их просматривает и при появлении новой информации сообщает, что у такой-то компании появилась новая информация по такому-то продукту, или просто появился новый проукт с такими-то условиями. информация обнаруждена там-то там-то и предлагает добавить эту информацию в базу знаний. Если произошли изменения по какому-то продукту предлдаегает внести корректировки в базу знаний. 
база знаний раз в день делается резервное копирование


База знаний (дополнительно доступна только для агентов)

инструкции как работать с сервисом, где и как можно оформлять полисы


API для polis.online

В документации сделаны методы: 
Регистрации
Авторизации
Расчет и оформление осаго
Расчет и оформление страхования ипотеки
Работа с черновиками и полисами
Сервис подтягивания данных (данные авто по ГН, данные КБМ, данные по прошлому полису ОСАГО) Документация постепенно дорабатывается, текущая версия v.1.0.0
 Ссылка: https://test-api.polis.online/api/documentation#/ 
1. Для получения доступа к тестовому серверу партнеру необходимо пройти регистрацию на тестовом сервере 
https://test.polis.online/registration и использовать данные указанные при регистрации для работы с АПИ. 
2. Для получения доступа к боевому серверу необходимо необходимо пройти регистрацию на БОЕВОМ сервере 
https://agents.polis.online/registration и использовать данные указанные при регистрации для работы с АПИ.


дополнительный функционал

логи диалогов
если клиент говорит в чат голосом, автоматически трансрипировать
в процессе общения ии с агентами и клиентами сообщать им о том, что они могут наговаривать сообщения голосом (если собеседник этого еще не знает) и если они хотят, то могут попросить ии чтобы он тоже наговаривал голосом
если клиент попросил ии наговаривать голосом, и в дальнейшем произошло переключение на агента, предупредить агента, что клиент предпочитает общение голосом.
если это необходимо предлагать клиентам и агентам скачать какой-нибудь конкретный файл из базы знаний (если ии установил в процессе диалога, что это может как-то помочь). Так же скачать файлы из базы можно по конкретному запросу любого пользователя, например "скачай информацию о таком-то продукет такой-то компании" "скачай правила страхования такие-то " и т.п.
когда полис оформлен фиксировать даты когда напомнить клиенту об окончании его деятельноси, если полис оформил конкретный агент, скинтуь ему напоминание тоже.
сохранять контакты клиентов (вотсап, телеграм)
фиксировать статистику по агентам и каналам (сайт, вотсап, телеграм)